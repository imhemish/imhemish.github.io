<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">

  <meta charset="utf-8">

  
<title>Shorts</title>



<meta property="og:image" content="/images/apple-touch-icon.png" />


<meta name="author" content="Hemish">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="follow.it-verification-code" content="ZKMZC8n02Bv0Hs9t1m3m"/>

 


<meta name="description" content="Short form content by Hemish">


  <link rel="stylesheet" href="/style.css">
  <link rel="icon" type="image/png" href="/favicon.ico">
</head>

<body>
  <header class="header-bar">
    <div class="header-content">
      <div class="mobile-header">
        <div class="hamburger" onclick="document.querySelector('.nav-links').classList.toggle('active')">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>
        <div class="logo-container">
          <a href="/"><h1>Hemish</h1></a>
        </div>
      </div>
      <nav class="nav-links">
        <a href="/">Home</a>
        <a href="/posts">Posts</a>
        <a href="/poems">Poems</a>
        <a href="#contact">Contact</a>
        <a href="/subscribe">Subscribe/Atom</a>
      </nav>
    </div>
  </header>
  
  <style>
    /* Header Styles */
    .header-bar {
      width: 100%;
      background-color: #3d255b;
      color: #eaeaea;
      padding: 0;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
    }
  
    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      min-height: 52px;
    }
  
    .mobile-header {
      display: flex;
      align-items: center;
      gap: 12px;
      width: 100%;
      height: 52px;
    }
  
    .logo-container h1 {
      margin: 0;
      font-size: 1.5rem;
      color: #00b4d8;
      line-height: 1;
      font-weight: 600;
    }
  
    /* Navigation Links */
    .nav-links {
      display: flex;
      gap: 12px;
    }
  
    .nav-links a {
      text-decoration: none;
      color: #eaeaea;
      padding: 6px 12px;
      border-radius: 3px;
      transition: background-color 0.3s, color 0.3s;
      font-size: 1rem;
      font-weight: 500;
    }
  
    .nav-links a:hover {
      background-color: #00b4d8;
      text-decoration: none;
      color: #12182b;
    }
  
    /* Hamburger Icon */
    .hamburger {
      display: none;
      flex-direction: column;
      gap: 4px;
      cursor: pointer;
      height: 21px;
      justify-content: center;
    }
  
    .hamburger .bar {
      width: 24px;
      height: 3px;
      background-color: #eaeaea;
      border-radius: 2px;
    }
  
    /* Mobile Responsiveness */
    @media screen and (max-width: 670px) {
      .header-content {
        flex-direction: column;
        align-items: stretch;
      }
  
      .mobile-header {
        position: relative;
        justify-content: center;
      }
  
      .hamburger {
        display: flex;
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
      }
  
      .logo-container {
        display: flex;
        align-items: center;
        height: 100%;
      }
  
      .logo-container h1 {
        font-size: 1.4rem;
      }
  
      .nav-links {
        display: none;
        flex-direction: column;
        gap: 8px;
        padding: 10px 0;
      }
  
      .nav-links a {
        padding: 8px 14px;
        font-size: 1rem;
      }
  
      .nav-links a:hover {
        background-color: #00b4d8;
        color: #12182b;
      }
    }
  
    /* Show navigation links when menu is active */
    .nav-links.active {
      display: flex;
    }
  </style>

  <!-- Content Wrapper -->
  <main class="content-wrapper">
    
<h1 class="title">Shorts</h1>

<style>
    .posts-container {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    .post-card {
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        margin-bottom: 20px;
        padding: 16px;
        cursor: pointer;
        transition: transform 0.2s;
    }

    .post-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .post-header {
        display: flex;
        align-items: center;
        margin-bottom: 12px;
    }

    .post-avatar {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        margin-right: 12px;
    }

    .post-meta {
        flex-grow: 1;
    }

    .post-author {
        font-weight: bold;
        margin-bottom: 4px;
    }

    .post-date {
        color: #666;
        font-size: 0.9em;
    }

    .post-content {
        line-height: 1.5;
    }

    .loading {
        text-align: center;
        padding: 20px;
        color: #666;
    }

    .boosted {
        border-left: 4px solid #2b90d9;
        padding-left: 12px;
    }
</style>
</head>
<body>
<div class="posts-container" id="postsContainer">
    <!-- Posts will be loaded here -->
</div>
<div id="loading" class="loading" style="display: none;">Loading more posts...</div>

<div class="posts-container" id="postsContainer">
    <!-- Posts will be loaded here -->
</div>
<div id="loading" class="loading" style="display: none;">Loading more posts...</div>
<div id="error" class="error-message" style="display: none;"></div>

<script>
    const MASTODON_INSTANCE = 'mastodon.world';
    let lastId = null;
    let loading = false;
    const DEBUG = false; // Set to false to hide debug info in production

    async function lookupAccount(username) {
        try {
            const response = await fetch(`https://${MASTODON_INSTANCE}/api/v1/accounts/lookup?acct=${username}`);
            if (!response.ok) throw new Error('Account lookup failed');
            const data = await response.json();
            return data.id;
        } catch (error) {
            showError(`Error looking up account: ${error.message}`);
            throw error;
        }
    }

    async function initialize() {
        try {
            const accountId = await lookupAccount('hemish');
            fetchPosts(accountId);
        } catch (error) {
            showError('Failed to initialize the feed');
        }
    }

    async function fetchPosts(accountId) {
        if (loading) return;
        loading = true;
        document.getElementById('loading').style.display = 'block';
        document.getElementById('error').style.display = 'none';

        try {
            const params = new URLSearchParams({
                limit: 40,
                exclude_replies: true
            });
            
            if (lastId) {
                params.append('max_id', lastId);
            }

            const response = await fetch(`https://${MASTODON_INSTANCE}/api/v1/accounts/${accountId}/statuses?${params}`);
            if (!response.ok) throw new Error('Failed to fetch posts');
            
            const posts = await response.json();

            if (posts.length > 0) {
                lastId = posts[posts.length - 1].id;
                displayPosts(posts);
            }

            if (posts.length < 40) {
                document.getElementById('loading').style.display = 'none';
            }
        } catch (error) {
            showError(`Error fetching posts: ${error.message}`);
        } finally {
            loading = false;
            document.getElementById('loading').style.display = 'none';
        }
    }

    function showError(message) {
        const errorDiv = document.getElementById('error');
        errorDiv.textContent = message;
        errorDiv.style.display = 'block';
    }

    function displayPosts(posts) {
        const container = document.getElementById('postsContainer');
        
        posts.forEach(post => {
            if (!isRelevantPost(post)) return;

            const card = document.createElement('div');
            card.className = 'post-card';
            if (post.reblog) {
                card.classList.add('boosted');
            }

            const postToDisplay = post.reblog || post;
            const date = new Date(postToDisplay.created_at);
            const formattedDate = date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });

            let debugInfo = '';
            if (DEBUG) {
                debugInfo = `
                    <div class="debug-info">
                        Account: ${postToDisplay.account.acct}<br>
                        Username: ${postToDisplay.account.username}<br>
                        Display name: ${postToDisplay.account.display_name}<br>
                        URL: ${postToDisplay.account.url}<br>
                        ${post.reblog ? `Reblogged from: ${post.reblog.account.acct} (${post.reblog.account.url})` : ''}
                    </div>
                `;
            }

            card.innerHTML = `
                <div class="post-header">
                    <img class="post-avatar" src="${postToDisplay.account.avatar}" alt="${postToDisplay.account.username}">
                    <div class="post-meta">
                        <div class="post-author">
                            ${post.reblog ? 'üîÅ ' : ''}${postToDisplay.account.display_name}
                        </div>
                        <div class="post-date">${formattedDate}</div>
                    </div>
                </div>
                <div class="post-content">
                    ${postToDisplay.content}
                </div>
                ${debugInfo}
            `;

            card.addEventListener('click', () => {
                window.open(postToDisplay.url, '_blank');
            });

            container.appendChild(card);
        });
    }

    function isRelevantPost(post) {
        if(post.content.toLowerCase().match(/([67][38][61][79]|[71][61][89]|[71][97][121]|[113][117][101][101][114]|[108][103][98][116])/i)) {
       return false;
   }
        // Helper function to check if an account matches given criteria
        const isThreadsAccount = (account) => {
            // Check various properties that might indicate a threads.net account
            return (
                account.acct.includes('imhemish') ||
                account.username.includes('imhemish') ||
                account.url.includes('threads.net')

            );
        };

        const isMastodonAccount = (account) => {
            return account.acct === 'hemish' || 
                   account.username === 'hemish' || 
                   account.url.includes('mastodon.world');
        };

        // If it's a repost
        if (post.reblog) {
            // Only allow if it's a repost of imhemish@threads.net content
            return isThreadsAccount(post.reblog.account);
        }

        // For non-reposts, show if it's from either account
        return isMastodonAccount(post.account) || isThreadsAccount(post.account);
    }

    // Initial load
    initialize();

    // Infinite scroll with debounce
    let scrollTimeout;
    window.addEventListener('scroll', () => {
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 1000) {
                initialize();
            }
        }, 100);
    });
</script>


    
  </main>

  

  <!-- Footer -->
  <footer>
    <div id="contact">
      Links: <br><br>
      <nav>
        
        <a target="_blank" rel="me" href="https:&#x2F;&#x2F;linkedin.com&#x2F;in&#x2F;imhemish"><button>LinkedIn</button></a>
        
        <a target="_blank" rel="me" href="https:&#x2F;&#x2F;github.com&#x2F;imhemish"><button>GitHub</button></a>
        
        <a target="_blank" rel="me" href="https:&#x2F;&#x2F;matrix.to&#x2F;#&#x2F;@hemish:matrix.org"><button>Matrix</button></a>
        
        <a target="_blank" rel="me" href="https:&#x2F;&#x2F;telegram.me&#x2F;imported_maal"><button>Telegram</button></a>
        
        <a target="_blank" rel="me" href="mailto:hemish04082005@gmail.com"><button>Email</button></a>
        
        <a target="_blank" rel="me" href="https:&#x2F;&#x2F;instagram.com&#x2F;imhemish"><button>Instagram</button></a>
        
      </nav>
    </div>
    <br>
    <hr><br>
    Special thanks to: <br><br>
    <nav>
      
      <button>
        <a target="_blank" href="https:&#x2F;&#x2F;bugswriter.com">
          <img src="https:&#x2F;&#x2F;bugswriter.com&#x2F;favicon.ico" height=30 width=30 alt="BugsWriter">
        </a>
      </button>
      
      <button>
        <a target="_blank" href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;India">
          <img src="https:&#x2F;&#x2F;upload.wikimedia.org&#x2F;wikipedia&#x2F;en&#x2F;4&#x2F;41&#x2F;Flag_of_India.svg" height=30 width=30 alt="India">
        </a>
      </button>
      
      <button>
        <a target="_blank" href="https:&#x2F;&#x2F;en.wikipedia.org&#x2F;">
          <img src="https:&#x2F;&#x2F;upload.wikimedia.org&#x2F;wikipedia&#x2F;en&#x2F;8&#x2F;80&#x2F;Wikipedia-logo-v2.svg" height=30 width=30 alt="Wikipedia">
        </a>
      </button>
      
      <button>
        <a target="_blank" href="https:&#x2F;&#x2F;gnome.org">
          <img src="https:&#x2F;&#x2F;upload.wikimedia.org&#x2F;wikipedia&#x2F;commons&#x2F;6&#x2F;68&#x2F;Gnomelogo.svg" height=30 width=30 alt="GNOME">
        </a>
      </button>
      
      <button>
        <a target="_blank" href="https:&#x2F;&#x2F;kernel.org">
          <img src="https:&#x2F;&#x2F;upload.wikimedia.org&#x2F;wikipedia&#x2F;commons&#x2F;a&#x2F;af&#x2F;Tux.png" height=30 width=30 alt="Linux">
        </a>
      </button>
      
    </nav>
    <br>(Not endorsed by any of these)
    <br><br>
    &copy Copyright 2025 <a href="/">Hemish</a>. Few rights reserved:
    The content on this site is available under <a href="https://creativecommons.org/licenses/by/4.0/legalcode"
      target="_blank"> CC-BY-4.0 license</a>, that is you can use the content as long as you credit me and list this
    site as a source.
  </footer>

  <script src="/elasticlunr.min.js"></script>
  <script src="/search_index.en.js"></script>
  <script src="/js/search.js"></script>
</body>

</html>
