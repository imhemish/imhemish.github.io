<script>
document.querySelectorAll('pre').forEach((pre) => {
    // Create a copy button
    const button = document.createElement('button');
    button.innerText = 'Copy';
    button.className = 'copy-btn';
  
    // Add click event to copy the content
    button.addEventListener('click', () => {
      // Create a temporary container to hold the text
      const tempDiv = document.createElement('div');
      tempDiv.innerHTML = pre.innerHTML; // Get the HTML of the pre block
      tempDiv.querySelector('.copy-btn')?.remove(); // Remove the button from the content
  
      // Copy only the cleaned text content
      const code = tempDiv.innerText;
      navigator.clipboard.writeText(code).then(() => {
        button.innerText = 'Copied!';
        setTimeout(() => (button.innerText = 'Copy'), 2000);
      }).catch(() => {
        button.innerText = 'Failed!';
      });
    });
  
    // Append the button to the pre element
    pre.style.position = 'relative';
    pre.appendChild(button);
  });
</script>